(()=>{"use strict";var t={742:(t,e,s)=>{s.r(e)},359:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Basket=void 0;e.Basket=class{constructor(t){this.maxAmount=t,this.products=[],this.loadState()}add(t){return this.products.length===this.maxAmount?(alert("Sorry, all slots are full"),!1):(this.products.push(t),this.saveState(),!0)}remove(t){this.products=this.products.filter((e=>e.id!=t)),this.saveState()}get amount(){return this.products.length}contains(t){return Boolean(this.products.filter((e=>e.id===t)).length)}saveState(){localStorage.setItem("basket_items",JSON.stringify(this.products))}loadState(){const t=JSON.parse(localStorage.getItem("basket_items"));t&&t instanceof Array&&(this.products=t)}}},585:(t,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ColorFilter=void 0;const a=s(610);class i extends a.Filter{constructor(t,e){super(t),this.value||(this.value=[]),this.buttonContainer=document.createElement("div"),this.buttonContainer.classList.add("color-button-container"),e.forEach((t=>{const e=document.createElement("button");e.classList.add("color-button"),e.classList.add(`color-button_${t}`),e.value=t,this.buttonContainer.append(e),this.value.includes(t)&&e.classList.add("color-button_selected")})),this.html=this.buttonContainer,this.buttonContainer.onclick=t=>{if(t.target instanceof HTMLButtonElement){const e=t.target.value;t.target.classList.toggle("color-button_selected"),this.value.includes(e)?this.value=this.value.filter((t=>t!==e)):this.value.push(e)}this.updateHandler()}}filter(t){return this.value.length?t.filter((t=>this.value.includes(t.productData.color.toLowerCase()))):t}clear(){this.clearState(),this.value=[],this.buttonContainer.childNodes.forEach((t=>t.classList.remove("color-button_selected")))}}e.ColorFilter=i},610:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Filter=void 0;e.Filter=class{constructor(t){this.name=t,this.updateHandler=()=>{this.saveState()},this.loadState()}saveState(){localStorage.setItem(this.name,JSON.stringify(this.value))}loadState(){this.value=JSON.parse(localStorage.getItem(this.name))}clearState(){localStorage.removeItem(this.name)}setUpdateHandler(t){this.updateHandler=()=>{this.saveState(),t()}}}},282:(t,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.PopularFilter=void 0;const a=s(610);class i extends a.Filter{constructor(t){super(t),this.checkbox=document.createElement("input"),this.checkbox.type="checkbox",this.checkbox.classList.add("popular-container_chekbox"),this.html=this.checkbox,this.checkbox.checked=this.value,this.checkbox.onclick=()=>{this.value=this.checkbox.checked,this.updateHandler()}}filter(t){return this.checkbox.checked?t.filter((t=>t.productData.popular)):t}clear(){this.clearState(),this.checkbox.checked=!1}}e.PopularFilter=i},932:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ProductCard=void 0;e.ProductCard=class{constructor(t){this.isSelected=!1,this.options=t,this.html=this.createCard()}createCard(){const t=document.createElement("div");t.classList.add("product-card");const e=document.createElement("div");e.classList.add("product-card__img");const s=document.createElement("img");s.src=this.options.img,s.alt=this.options.name,s.title=this.options.name,e.append(s);const a=document.createElement("p");a.classList.add("product-card__name"),a.innerHTML=`<strong>${this.options.name}</strong>`;const i=document.createElement("ul");i.classList.add("product-properties");const n=["stock","year","company","color","size","popular"];return Object.entries(this.options).filter((([t])=>n.includes(t))).forEach((([t,e])=>i.append(this.createLi(t,e)))),this.basketSign=document.createElement("div"),this.basketSign.classList.add("basket-sign","only-card","hidden"),[e,a,i,this.basketSign].forEach((e=>t.append(e))),t.addEventListener("click",(()=>{this.isSelected=!this.isSelected,this.basketSign.classList.toggle("hidden"),this.isSelected?this.onSelect(this.options):this.onDeselect(this.options)})),t}createLi(t,e){const s=document.createElement("li");return"boolean"==typeof e&&(e=e?"Yes":"No"),s.innerHTML=`${t.replace(t[0],t[0].toUpperCase())}: ${e}`,s}select(){this.isSelected=!0,this.basketSign.classList.remove("hidden")}deselect(){this.isSelected=!1,this.basketSign.classList.add("hidden")}get productData(){return Object.assign({},this.options)}}},981:(t,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Search=void 0;const a=s(610);class i extends a.Filter{constructor(t){super(t),this.textInput=document.createElement("input"),this.textInput.type="search",this.textInput.placeholder="Search",this.textInput.classList.add("input-style"),this.textInput.name="search",this.textInput.autofocus=!0,this.textInput.autocomplete="off",this.textInput.id="search",this.textInput.value=this.value?this.value:"",this.html=this.textInput,this.textInput.oninput=()=>{this.value=this.textInput.value,this.updateHandler()}}filter(t){const e=document.getElementsByClassName("error-message")[0];if(this.value){const s=t.filter((t=>t.productData.name.toLowerCase().includes(this.value.trim().toLowerCase())));return e.classList.add("hidden"),s.length||e.classList.remove("hidden"),s}return e.classList.add("hidden"),t}clear(){this.clearState(),this.value="",this.textInput.value=""}}e.Search=i},521:(t,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.SelectFilter=void 0;const a=s(610);class i extends a.Filter{constructor(t,e){super(t),this.value=this.value||"All",this.selectInput=document.createElement("select"),this.selectInput.name="filter-input",this.selectInput.classList.add("input-style"),e.forEach((t=>{const e=document.createElement("option");return e.value=t,e.innerHTML=t,this.selectInput.append(e)})),this.html=this.selectInput,this.selectInput.value=this.value,this.selectInput.oninput=()=>{this.value=this.selectInput.value,this.updateHandler()}}filter(t){return this.value=this.selectInput.value,"All"===this.value?t:t.filter((t=>this.value===t.productData.company))}clear(){this.selectInput.value="All",this.value=this.selectInput.value,this.clearState()}}e.SelectFilter=i},938:(t,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Settings=e.SettingsVariants=void 0;const a=s(610);var i;!function(t){t.ALPHABET_ORDER="Name from A to Z",t.REV_ALPHABET_ORDER="Name from Z to A",t.YEAR_ASC="Year, by ascending",t.YEAR_DESC="Year, by descending"}(i=e.SettingsVariants||(e.SettingsVariants={}));class n extends a.Filter{constructor(t){super(t),this.value=this.value||i.ALPHABET_ORDER,this.sortInput=document.createElement("select"),this.sortInput.classList.add("input-style"),Object.values(i).forEach((t=>{this.sortInput.append(this.createOption(t))})),this.sortInput.value=this.value,this.sortVariants={[i.ALPHABET_ORDER]:this.alphabetSort,[i.REV_ALPHABET_ORDER]:this.alphabetRevSort,[i.YEAR_ASC]:this.yearAscSort,[i.YEAR_DESC]:this.yearDescSort},this.sortInput.oninput=()=>{this.value=this.sortInput.value,this.updateHandler()},this.html=this.sortInput}createOption(t){const e=document.createElement("option");return e.value=t,e.innerHTML=t,e}filter(t){return this.sortVariants[this.value](t)}alphabetSort(t){return t.sort(((t,e)=>t.productData.name.localeCompare(e.productData.name)))}alphabetRevSort(t){return t.sort(((t,e)=>e.productData.name.localeCompare(t.productData.name)))}yearAscSort(t){return t.sort(((t,e)=>t.productData.year-e.productData.year))}yearDescSort(t){return t.sort(((t,e)=>e.productData.year-t.productData.year))}clear(){}}e.Settings=n},803:(t,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.SizeFilter=void 0;const a=s(610);class i extends a.Filter{constructor(t,e){super(t),this.arrStr=e,this.buttonContainer=document.createElement("div"),this.buttonContainer.classList.add("size-container"),this.arrStr.forEach((t=>{const e=this.createOptionButton(t);this.value&&t===`${this.value[0]}-${this.value[1]}`&&(this.selectedButton=e),this.buttonContainer.append(e)})),this.markSelectedButton(),this.html=this.buttonContainer,this.buttonContainer.onclick=t=>{if(t.target instanceof HTMLButtonElement){const e=t.target.value.split("-").map((t=>parseInt(t)));this.value=[e[0],e[1]],this.selectedButton=t.target,this.markSelectedButton(),this.updateHandler()}}}createOptionButton(t){const e=document.createElement("button");return e.value=t,e.classList.add("button"),e.innerHTML=`${t} cm`,e}markSelectedButton(){this.buttonContainer.childNodes.forEach((t=>{t===this.selectedButton?t.classList.add("size-button-selected"):t.classList.remove("size-button-selected")}))}filter(t){return this.value?t.filter((t=>t.productData.size>=this.value[0]&&t.productData.size<=this.value[1])):t}clear(){this.buttonContainer.childNodes.forEach((t=>t.classList.remove("size-button-selected"))),this.value=void 0,this.clearState()}}e.SizeFilter=i},173:(t,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.SliderInput=void 0;const a=s(610);class i extends a.Filter{constructor(t,e){super(t),this.value=this.value||[e.leftValue,e.rightValue],this.options=e,this.options.minGap=e.minGap||0,this.leftSlider=this.createInputElement(this.value[0]),this.rightSlider=this.createInputElement(this.value[1]),this.sliderTrack=document.createElement("div"),this.sliderTrack.classList.add("slider-track"),this.spanValueLeft=document.createElement("span"),this.spanValueLeft.textContent=this.value[0].toString(),this.spanValueRight=document.createElement("span"),this.spanValueRight.textContent=this.value[1].toString(),this.html=this.createHTMLElement(),this.createActionHandlers()}createInputElement(t){const e=document.createElement("input");return e.type="range",e.max=this.options.max.toString(),e.min=this.options.min.toString(),e.value=t.toString(),e}createHTMLElement(){const t=document.createElement("div"),e=document.createElement("p");e.classList.add("filter-text"),e.innerHTML=`<strong>${this.options.name}</strong>`,t.append(e);const s=document.createElement("div");return s.classList.add("values"),s.innerHTML="<span>&dash;</span>",s.prepend(this.spanValueLeft),s.append(this.spanValueRight),t.append(s),this.rangeContainer=document.createElement("div"),this.rangeContainer.classList.add("range-container"),this.rangeContainer.append(this.sliderTrack),this.rangeContainer.append(this.leftSlider),this.rangeContainer.append(this.rightSlider),t.append(this.rangeContainer),t}createActionHandlers(){this.fillColor(),this.rangeContainer.oninput=t=>{t.target===this.leftSlider?this.leftHandler():this.rightHandler()}}leftHandler(){parseInt(this.rightSlider.value)-parseInt(this.leftSlider.value)<=this.options.minGap&&(this.leftSlider.value=parseInt(this.rightSlider.value)-this.options.minGap+""),this.spanValueLeft.textContent=this.leftSlider.value,this.fillColor(),this.value[0]=parseInt(this.leftSlider.value),this.updateHandler()}rightHandler(){parseInt(this.rightSlider.value)-parseInt(this.leftSlider.value)<=this.options.minGap&&(this.rightSlider.value=parseInt(this.leftSlider.value)+this.options.minGap+""),this.spanValueRight.textContent=this.rightSlider.value,this.fillColor(),this.value[1]=parseInt(this.rightSlider.value),this.updateHandler()}filter(t){const[e,s]=this.value;return t.filter((t=>{const a=t.productData[this.options.filterFieldName];return a>=e&&a<=s}))}fillColor(){const t=(parseInt(this.leftSlider.value)-this.options.min)/(this.options.max-this.options.min)*100,e=(parseInt(this.rightSlider.value)-this.options.min)/(this.options.max-this.options.min)*100;this.sliderTrack.style.background=`linear-gradient(to right, #dadae5 ${t}%, #d2c4b5 ${t}%,#d2c4b5 ${e}%, #dadae5 ${e}%)`}clear(){this.clearState(),this.value=[this.options.leftValue,this.options.rightValue],this.leftSlider.value=this.value[0].toString(),this.rightSlider.value=this.value[1].toString(),this.spanValueLeft.textContent=this.value[0].toString(),this.spanValueRight.textContent=this.value[1].toString(),this.fillColor()}}e.SliderInput=i},172:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.products=void 0,e.products=[{id:1,img:"./assets/soft-sofa.png",name:"Vivian Sofa",stock:1,year:2022,company:"Ikea",color:"Grey",size:107,popular:!1},{id:2,img:"./assets/desk-lamp.png",name:"Desk lamp",stock:7,year:2022,company:"Kartell",color:"Beige",size:15,popular:!1},{id:3,img:"./assets/lamp-light.png",name:"Rapallo lamp",stock:25,year:2020,company:"Dunelm",color:"Brown",size:30,popular:!1},{id:4,img:"./assets/pixar-lamp.png",name:"Pixar lamp",stock:10,year:2019,company:"Ikea",color:"Grey",size:10,popular:!1},{id:5,img:"./assets/big-sofa.png",name:"Indi sofa",stock:5,year:2021,company:"Kartell",color:"Grey",size:135,popular:!0},{id:6,img:"./assets/armchair.png",name:"Montreal armchair",stock:23,year:2021,company:"Ashley",color:"Beige",size:70,popular:!0},{id:7,img:"./assets/lounge-chair.png",name:"Lounge chair",stock:3,year:2021,company:"Ashley",color:"Yellow",size:50,popular:!0},{id:8,img:"./assets/clock.png",name:"Kendall clock",stock:5,year:2019,company:"Kartell",color:"White",size:10,popular:!1},{id:9,img:"./assets/sofa-blue.png",name:"Carys sofa",stock:2,year:2020,company:"Dunelm",color:"Blue",size:110,popular:!0},{id:10,img:"./assets/tables.png",name:"Bromley table",stock:8,year:2020,company:"Ikea",color:"Brown",size:54,popular:!1},{id:11,img:"./assets/wood-table.png",name:"Fitzgerald table",stock:13,year:2022,company:"Ikea",color:"Brown",size:65,popular:!0},{id:12,img:"./assets/vase.png",name:"Fulton vase",stock:15,year:2022,company:"Ikea",color:"Grey",size:8,popular:!1},{id:13,img:"./assets/silver-ball.png",name:"Silver vase",stock:5,year:2019,company:"Ashley",color:"Black",size:6,popular:!1},{id:14,img:"./assets/steel-sofa.png",name:"Franco sofa",stock:5,year:2019,company:"Ikea",color:"Grey",size:96,popular:!0},{id:15,img:"./assets/party-table.png",name:"Greenwich table",stock:4,year:2021,company:"Kartell",color:"Brown",size:54,popular:!0},{id:16,img:"./assets/coffee-table-png-791716.png",name:"Coffee table",stock:14,year:2021,company:"Ikea",color:"Brown",size:34,popular:!1},{id:17,img:"./assets/pngfind.com-coffee-table-png-792277.png",name:"Burvik table",stock:8,year:2020,company:"Kartell",color:"White",size:64,popular:!1},{id:18,img:"./assets/pngfind.com-sofa-png-82263.png",name:"Rian sofa",stock:6,year:2021,company:"Ikea",color:"Yellow",size:70,popular:!1},{id:19,img:"./assets/pngfind.com-white-sofa-png-6425819.png",name:"Gladom sofa",stock:9,year:2019,company:"Ashley",color:"White",size:40,popular:!1},{id:20,img:"./assets/pngfind.com-sofa-png-82989.png",name:"Melltorp sofa",stock:11,year:2022,company:"Ikea",color:"Black",size:40,popular:!0},{id:21,img:"./assets/pngfind.com-side-table-png-5246313.png",name:"Melltorp table",stock:2,year:2021,company:"Ikea",color:"Brown",size:20,popular:!0}]}},e={};function s(a){var i=e[a];if(void 0!==i)return i.exports;var n=e[a]={exports:{}};return t[a](n,n.exports,s),n.exports}s.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})};(()=>{s(742);const t=s(173),e=s(172),a=s(932),i=s(359),n=s(981),r=s(938),o=s(521),l=s(585),c=s(282),u=s(803),d=document.getElementsByClassName("range-container")[0],p=new t.SliderInput("StockSlider",{name:"Stock",min:1,max:30,leftValue:1,rightValue:30,minGap:1,filterFieldName:"stock"}),h=new t.SliderInput("YearsSlider",{name:"Years",min:2019,max:2022,leftValue:2019,rightValue:2022,minGap:1,filterFieldName:"year"}),m=document.getElementsByClassName("container-card")[0],g=new i.Basket(20),v=document.getElementsByClassName("only-basket")[0];v.innerHTML=g.amount.toString();const f=document.getElementsByClassName("filter-container__search")[0],S=new n.Search("Search"),y=new r.Settings("Settings"),b=document.getElementsByClassName("filter-container__settings")[0],k=new o.SelectFilter("companyFilter",["All","Ikea","Dunelm","Kartell","Ashley"]),E=document.getElementsByClassName("filter-container__selector")[0],I=document.getElementsByClassName("filter-container__color")[0],L=new l.ColorFilter("colorsFilter",["grey","blue","beige","yellow","white","brown","black"]),C=document.getElementsByClassName("popular-container")[0],_=new c.PopularFilter("popular_filter"),x=new u.SizeFilter("Size",["1-50","51-100","101-140"]),B=document.getElementsByClassName("filter-container__size")[0],H=e.products.map((t=>{const e=new a.ProductCard(t);return g.contains(t.id)&&e.select(),e.onSelect=t=>{g.add(t)?v.innerHTML=g.amount.toString():e.deselect()},e.onDeselect=t=>{g.remove(t.id),v.innerHTML=g.amount.toString()},e})),z=[S,_,L,y,x,k,p,h];S.name,f.append(S.html),_.name,C.append(_.html),L.name,I.append(L.html),y.name,b.append(y.html),x.name,B.append(x.html),k.name,E.append(k.html),p.name,d.append(p.html),h.name,d.append(h.html);z.forEach((t=>{t.name,t.setUpdateHandler((()=>{D(M())}))}));const A=document.getElementsByClassName("error-message")[0];function D(t){0===t.length&&A.classList.remove("hidden"),m.innerHTML="",t.forEach((t=>m.append(t.html)))}function M(){return z.reduce(((t,e)=>e.filter(t)),H)}D(M());document.getElementById("clearStorage").onclick=()=>{localStorage.clear(),location.reload()};document.getElementById("clearFilter").onclick=()=>{z.forEach((t=>t.clear())),D(M())}})()})();